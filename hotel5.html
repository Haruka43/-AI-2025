<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ホテル一覧</title>
    <style>
      body {
        font-family: 'Comic Sans MS', 'Hiragino Maru Gothic Pro', 'Arial Rounded MT Bold', Meiryo, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #fff0f5; /* ライトピンク */
      }

      header {
        background-color: #ffb6c1; /* パステルピンク */
        color: #fff;
        padding: 20px 0;
        text-align: center;
        box-shadow: 0 4px 8px rgba(255, 182, 193, 0.3);
        border-bottom: 5px dotted #fff;
      }

      header h1 {
        font-size: 2em;
        letter-spacing: 2px;
      }

      .container {
        padding: 30px;
        max-width: 1100px;
        margin: 0 auto;
      }

      .h2 {
        color: #ff69b4;
        border-bottom: 3px dashed #ffb6c1;
        padding-bottom: 10px;
        margin-bottom: 25px;
        font-size: 1.8em;
        text-align: center;
      }

      .hotel-list {
        display: flex;
        flex-wrap: wrap;
        gap: 25px;
        justify-content: center;
      }

      .hotel {
        background-color: #fff;
        border: 2px dashed #ffb6c1;
        border-radius: 16px;
        overflow: hidden;
        width: calc(33.333% - 20px);
        box-shadow: 0 4px 10px rgba(255, 182, 193, 0.2);
        cursor: pointer;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .hotel:hover {
        transform: scale(1.03);
        box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
      }

      .hotel img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-bottom: 2px dashed #ffc0cb;
      }

      .hotel-content {
        padding: 15px;
        flex-grow: 1;
      }

      .hotel h3 {
        margin: 0 0 10px 0;
        font-size: 1.2em;
        color: #d63384;
      }

      .hotel p {
        margin: 0;
        font-size: 0.9em;
        color: #666;
        line-height: 1.6;
      }

      .map-container {
        margin-top: 40px;
      }

      #map {
        height: 500px;
        width: 100%;
        border-radius: 12px;
        border: 2px dashed #ffb6c1;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>宿泊🏢</h1>
    </header>

    <div class="container">
      <h2 class="h2">スポット一覧</h2>
      <div class="hotel-list">
        <div class="hotel" data-lat="34.5804" data-lng="135.4795">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=くれたけイン南海堺駅前"
            alt="くれたけイン南海堺駅前"
          />
          <div class="hotel-content">
            <h3>くれたけイン南海堺駅前</h3>
            <p>南海本線 堺駅西口より徒歩2分。ウェルカムドリンクや男女別浴場が嬉しいビジネスホテル。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5760" data-lng="135.4759">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=コンフォートホテル堺"
            alt="コンフォートホテル堺"
          />
          <div class="hotel-content">
            <h3>コンフォートホテル堺</h3>
            <p>南海本線堺駅より徒歩約5分の便利な立地。観光やビジネスの拠点としてご利用いただけます。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5739" data-lng="135.4852">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ダイワロイネットホテル堺東"
            alt="ダイワロイネットホテル堺東"
          />
          <div class="hotel-content">
            <h3>ダイワロイネットホテル堺東</h3>
            <p>堺東を代表するワンランク上のビジネスホテル。南海高野線堺東駅より徒歩5分。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5714" data-lng="135.4745">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ホテルサンプラザ堺 ANNEX"
            alt="ホテルサンプラザ堺 ANNEX"
          />
          <div class="hotel-content">
            <h3>ホテルサンプラザ堺ANNEX</h3>
            <p>ワンランク上のビジネスホテル。阪堺線「宿院」駅から徒歩5分の好立地です。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.6183" data-lng="135.4526">
          <img src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=J-GREEN堺" alt="J-GREEN堺" />
          <div class="hotel-content">
            <h3>J-GREEN堺</h3>
            <p>日本最大級の施設規模を誇り、サッカーをはじめとするスポーツ・レクリエーションの拠点施設。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5829" data-lng="135.4675">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ホテル アゴーラ リージェンシー 大阪堺"
            alt="ホテル アゴーラ リージェンシー 大阪堺"
          />
          <div class="hotel-content">
            <h3>ホテル アゴーラ リージェンシー 大阪堺</h3>
            <p>南海本線堺駅西口直結。「美しい日本を作る」をテーマに、様々なサービスを提供しています。</p>
          </div>
        </div>
      </div>

      <div class="map-container">
        <h2 class="h2">アクセスマップ</h2>
        <div id="map"></div>
      </div>
    </div>

    <script>
      let map;
      const markers = []; // マーカーを管理する配列
      const infoWindows = []; // 情報ウィンドウを管理する配列

      function initMap() {
        // 地図の初期中心（堺市役所あたり）
        const initialCenter = { lat: 34.5733, lng: 135.4828 };
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: initialCenter,
          mapTypeControl: false, // 不要なコントロールを非表示
          streetViewControl: false
        });

        const hotels = document.querySelectorAll('.hotel');
        const bounds = new google.maps.LatLngBounds(); // 全マーカーが収まるように地図を調整するためのオブジェクト

        hotels.forEach((hotel, i) => {
          const lat = parseFloat(hotel.getAttribute('data-lat'));
          const lng = parseFloat(hotel.getAttribute('data-lng'));
          const name = hotel.querySelector('h3').textContent;
          const position = { lat, lng };

          // マーカーを作成
          const marker = new google.maps.Marker({
            position: position,
            map: map,
            title: name,
            animation: google.maps.Animation.DROP
          });
          markers.push(marker);

          // マーカーの位置をboundsに追加
          bounds.extend(position);

          // 情報ウィンドウを作成
          const infoWindow = new google.maps.InfoWindow({
            content: `<strong>${name}</strong>`
          });
          infoWindows.push(infoWindow);

          // マーカーのクリックイベント
          marker.addListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
          });

          // ホテルカードのクリックイベント
          hotel.addEventListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
            map.setZoom(15);
          });
        });

        // すべてのマーカーが地図に収まるように表示を調整
        map.fitBounds(bounds);
      }

      // すべての情報ウィンドウを閉じる関数
      function closeAllInfoWindows() {
        infoWindows.forEach((win) => win.close());
      }
    </script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAanGL60bWCdRLdFjyk-Xf_UI-HPnbHgXc&callback=initMap"
    ></script>
  </body>
</html>
