<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ホテル一覧</title>
    <style>
      body {
        font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9f9f9;
      }
      header {
        background-color: #00aaff; /* 少し明るい青に変更 */
        color: #fff;
        padding: 15px 0;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .container {
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .hotel-list {
        display: flex;
        flex-wrap: wrap;
        gap: 20px; /* ギャップを少し広げる */
        justify-content: center; /* 中央揃えに変更 */
      }
      .hotel {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 0; /* パディングを0に */
        width: calc(33.333% - 20px); /* 3列表示 */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        cursor: pointer;
        display: flex;
        flex-direction: column;
        transition: transform 0.2s, box-shadow 0.2s;
        overflow: hidden; /* 角丸を画像に適用するため */
      }
      .hotel:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }
      /* レスポンシブ対応 */
      @media (max-width: 992px) {
        .hotel {
          width: calc(50% - 20px); /* 2列表示 */
        }
      }

      @media (max-width: 768px) {
        .hotel {
          width: 100%; /* 1列表示 */
        }
      }

      .h2 {
        color: #333;
        border-bottom: 3px solid #00aaff;
        padding-bottom: 10px;
        margin-bottom: 25px;
        font-size: 1.8em;
      }

      .hotel img {
        width: 100%;
        height: 200px; /* 高さを固定 */
        object-fit: cover; /* アスペクト比を維持してトリミング */
      }
      .hotel-content {
        padding: 15px;
        display: flex;
        flex-direction: column;
        flex-grow: 1; /* 内容が少なくても高さを揃える */
      }

      .hotel h3 {
        margin: 0 0 5px 0;
        font-size: 1.2em;
        color: #333;
      }
      .hotel p {
        margin: 0;
        font-size: 0.9em;
        color: #666;
        flex-grow: 1;
      }
      .map-container {
        margin-top: 40px;
      }
      #map {
        height: 500px; /* 高さを調整 */
        width: 100%;
        border-radius: 8px;
        border: 1px solid #ddd;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>宿泊🏢</h1>
    </header>

    <div class="container">
      <h2 class="h2">スポット一覧</h2>
      <div class="hotel-list">
        <div class="hotel" data-lat="34.5804" data-lng="135.4795">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=くれたけイン南海堺駅前"
            alt="くれたけイン南海堺駅前"
          />
          <div class="hotel-content">
            <h3>くれたけイン南海堺駅前</h3>
            <p>南海本線 堺駅西口より徒歩2分。ウェルカムドリンクや男女別浴場が嬉しいビジネスホテル。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5760" data-lng="135.4759">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=コンフォートホテル堺"
            alt="コンフォートホテル堺"
          />
          <div class="hotel-content">
            <h3>コンフォートホテル堺</h3>
            <p>南海本線堺駅より徒歩約5分の便利な立地。観光やビジネスの拠点としてご利用いただけます。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5739" data-lng="135.4852">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ダイワロイネットホテル堺東"
            alt="ダイワロイネットホテル堺東"
          />
          <div class="hotel-content">
            <h3>ダイワロイネットホテル堺東</h3>
            <p>堺東を代表するワンランク上のビジネスホテル。南海高野線堺東駅より徒歩5分。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5714" data-lng="135.4745">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ホテルサンプラザ堺 ANNEX"
            alt="ホテルサンプラザ堺 ANNEX"
          />
          <div class="hotel-content">
            <h3>ホテルサンプラザ堺ANNEX</h3>
            <p>ワンランク上のビジネスホテル。阪堺線「宿院」駅から徒歩5分の好立地です。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.6183" data-lng="135.4526">
          <img src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=J-GREEN堺" alt="J-GREEN堺" />
          <div class="hotel-content">
            <h3>J-GREEN堺</h3>
            <p>日本最大級の施設規模を誇り、サッカーをはじめとするスポーツ・レクリエーションの拠点施設。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5829" data-lng="135.4675">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ホテル アゴーラ リージェンシー 大阪堺"
            alt="ホテル アゴーラ リージェンシー 大阪堺"
          />
          <div class="hotel-content">
            <h3>ホテル アゴーラ リージェンシー 大阪堺</h3>
            <p>南海本線堺駅西口直結。「美しい日本を作る」をテーマに、様々なサービスを提供しています。</p>
          </div>
        </div>
      </div>

      <div class="map-container">
        <h2 class="h2">アクセスマップ</h2>
        <div id="map"></div>
      </div>
    </div>

    <script>
      let map;
      const markers = []; // マーカーを管理する配列
      const infoWindows = []; // 情報ウィンドウを管理する配列

      function initMap() {
        // 地図の初期中心（堺市役所あたり）
        const initialCenter = { lat: 34.5733, lng: 135.4828 };
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: initialCenter,
          mapTypeControl: false, // 不要なコントロールを非表示
          streetViewControl: false
        });

        const hotels = document.querySelectorAll('.hotel');
        const bounds = new google.maps.LatLngBounds(); // 全マーカーが収まるように地図を調整するためのオブジェクト

        hotels.forEach((hotel, i) => {
          const lat = parseFloat(hotel.getAttribute('data-lat'));
          const lng = parseFloat(hotel.getAttribute('data-lng'));
          const name = hotel.querySelector('h3').textContent;
          const position = { lat, lng };

          // マーカーを作成
          const marker = new google.maps.Marker({
            position: position,
            map: map,
            title: name,
            animation: google.maps.Animation.DROP
          });
          markers.push(marker);

          // マーカーの位置をboundsに追加
          bounds.extend(position);

          // 情報ウィンドウを作成
          const infoWindow = new google.maps.InfoWindow({
            content: `<strong>${name}</strong>`
          });
          infoWindows.push(infoWindow);

          // マーカーのクリックイベント
          marker.addListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
          });

          // ホテルカードのクリックイベント
          hotel.addEventListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
            map.setZoom(15);
          });
        });

        // すべてのマーカーが地図に収まるように表示を調整
        map.fitBounds(bounds);
      }

      // すべての情報ウィンドウを閉じる関数
      function closeAllInfoWindows() {
        infoWindows.forEach((win) => win.close());
      }
    </script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAanGL60bWCdRLdFjyk-Xf_UI-HPnbHgXc&callback=initMap"
    ></script>
  </body>
</html>
