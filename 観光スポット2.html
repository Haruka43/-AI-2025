<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>観光マップ with スライドカード</title>
    <style>
      #map {
        height: 100vh;
        width: 100%;
      }

      .card-container {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 10px;
        display: flex;
        overflow-x: auto;
        background: rgba(255, 255, 255, 0.9);
      }

      .card {
        flex: 0 0 100%;
        display: flex;
        flex-direction: column;
        background: white;
        padding: 10px;
        border-radius: 16px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .card img {
        width: 100%;
        border-radius: 8px;
      }

      .nav-buttons {
        position: absolute;
        bottom: 1px;
        left: 50%;
        right: 50%;
        display: flex;
        transform: translateX(-50%);
        z-index: 10;
      }

      .nav-buttons span {
        font-size: 2rem;
        margin: 0 20px;
        cursor: pointer;
        user-select: none;
      }

      #instruction {
        position: absolute;
        bottom: 180px;
        width: 100%;
        text-align: center;
        font-weight: bold;
        font-size: 16px;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <div id="instruction">観光スポットをスライドしてご覧ください！</div>

    <div class="nav-buttons">
      <span id="left">←</span>
      <span id="right">→</span>
    </div>

    <div class="card-container" id="cardContainer"></div>

    <script>
      const cards = [
        {
          title: '渓雲閣',
          img: 'images/01.jpg',
          desc: 'にごり湯をかけ流し！'
        },
        {
          title: '下藤屋',
          img: 'images/02.jpg',
          desc: '山の中の癒しの宿'
        },
        {
          title: '旅館〇〇',
          img: 'images/03.jpg',
          desc: '歴史ある露天風呂'
        }
      ];

      const container = document.getElementById('cardContainer');
      let currentIndex = 0;

      function renderCard(index) {
        container.innerHTML = ''; // 一度全削除
        const card = cards[index];
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        cardEl.innerHTML = `
        <h2>${card.title}</h2>
        <img src="${card.img}" alt="${card.title}">
        <p>${card.desc}</p>
      `;
        container.appendChild(cardEl);
      }

      function showCard(index) {
        if (index < 0 || index >= cards.length) return;
        currentIndex = index;
        renderCard(currentIndex);
      }

      document.getElementById('left').addEventListener('click', () => {
        showCard(currentIndex - 1);
      });

      document.getElementById('right').addEventListener('click', () => {
        showCard(currentIndex + 1);
      });

      // 初期表示
      showCard(currentIndex);

      // 自動再生機能（任意）
      const button = document.createElement('button');
      button.textContent = '自動再生する';
      document.body.appendChild(button);

      let autoplay = false;
      let timer = null;

      button.addEventListener('click', () => {
        if (!autoplay) {
          button.textContent = '停止する';
          autoplay = true;
          timer = setInterval(() => {
            currentIndex = (currentIndex + 1) % cards.length;
            showCard(currentIndex);
          }, 2000);
        } else {
          clearInterval(timer);
          autoplay = false;
          button.textContent = '自動再生する';
        }
      });
    </script>

    <!-- Google Maps API -->
    <script>
      function initMap() {
        const center = { lat: 37.115, lng: 139.98 };
        const map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: center
        });

        new google.maps.Marker({
          position: center,
          map: map,
          title: '渓雲閣'
        });
      }
    </script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAanGL60bWCdRLdFjyk-Xf_UI-HPnbHgXc&callback=initMap"
    ></script>
  </body>
</html>
