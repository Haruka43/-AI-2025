<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ホテル一覧</title>
    <style>
      body {
        font-family: 'Comic Sans MS', 'Hiragino Maru Gothic Pro', 'Arial Rounded MT Bold', Meiryo, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #fff0f5; /* ライトピンク */
      }

      header {
        background-color: #ffb6c1; /* パステルピンク */
        color: #fff;
        padding: 20px 0;
        text-align: center;
        box-shadow: 0 4px 8px rgba(255, 182, 193, 0.3);
        border-bottom: 5px dotted #fff;
      }

      header h1 {
        font-size: 2em;
        letter-spacing: 2px;
      }

      .container {
        padding: 30px;
        max-width: 1100px;
        margin: 0 auto;
      }

      /* 2列や1列になる設定を削除しました */

      .h2 {
        color: #ff69b4;
        border-bottom: 3px dashed #ffb6c1;
        padding-bottom: 10px;
        margin-bottom: 25px;
        font-size: 1.8em;
        text-align: center;
      }

      .hotel-list {
        display: flex;
        flex-wrap: wrap;
        gap: 25px;
        justify-content: center;
      }

      .hotel {
        background-color: #fff;
        border: 2px dashed #ffb6c1;
        border-radius: 16px;
        overflow: hidden;
        /* この設定で常に3列表示になります */
        width: calc(33.333% - 20px);
        box-shadow: 0 4px 10px rgba(255, 182, 193, 0.2);
        cursor: pointer;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .hotel:hover {
        transform: scale(1.03);
        box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
      }

      .hotel img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-bottom: 2px dashed #ffc0cb;
      }

      .hotel-content {
        padding: 15px;
        flex-grow: 1;
      }

      .hotel h3 {
        margin: 0 0 10px 0;
        font-size: 1.2em;
        color: #d63384;
      }

      .hotel p {
        margin: 0;
        font-size: 0.9em;
        color: #666;
        line-height: 1.6;
      }

      .map-container {
        margin-top: 40px;
      }

      #map {
        height: 500px;
        width: 100%;
        border-radius: 12px;
        border: 2px dashed #ffb6c1;
      }

      @media (max-width: 768px) {
        .hotel {
          /* 画面幅が768px以下の場合、幅を100%にする */
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>宿泊🏢</h1>
    </header>

    <div class="container">
      <h2 class="h2">スポット一覧</h2>
      <div class="hotel-list">
        <div class="hotel" data-lat="34.58275515228795" data-lng="135.467605553982">
          <img
            src="https://prtimes.jp/i/10241/340/ogp/d10241-340-539319-0.jpg"
            alt="ホテル　アゴーラ　リージェンシー大阪堺"
          />
          <div class="hotel-content">
            <h3>ホテル　アゴーラ　リージェンシー大阪堺</h3>
            <p>
              南海本線堺駅西口直結でアクセス抜群。大阪ミナミの中心地の難波より電車で約10分と大阪市内からも近く、関西空港からも電車で約37分と国内外を問わず遠方からのゲストのお迎えも容易です。また近隣には高速道路の出入口もありお車でのお越しもスムーズ。USJや、フェニーチェ堺（堺市民芸術文化ホール）、J－GREEN堺（堺市立サッカー・ナショナルトレーニングセンター）、長居陸上競技場（ヤンマースタジアム長居）などへのアクセスにも便利です。
            </p>
          </div>
        </div>

        <div class="hotel" data-lat="34.53778098816464" data-lng="135.45529835212986">
          <img
            src="https://jl-db.nfaj.go.jp/assets/images/202106/l/2f6157fe5e58f7465bf462586a70d48d.jpg"
            alt="SAKAINOMA HOTEL　濵　旧福井邸"
          />
          <div class="hotel-content">
            <h3>SAKAINOMA HOTEL　濵　旧福井邸</h3>
            <p>
              昭和初期に建てられた大阪鋳物商の遊び心ある別邸。
              昭和初期に建てられた鋳物商人の邸宅。今では珍しい書院、障子、襖、縁側など、当時の趣が残っています。700平米を超える敷地に、広々としたお庭や広間、鋳物風呂があり、裕福な商人の暮らしを体験できる一棟貸し宿泊施設です。
              意匠や空間にこだわった本物の建物と、その時代とその建物を大切にしたここでしかできないことをお楽しみください。
            </p>
          </div>
        </div>

        <div class="hotel" data-lat="34.57720153206088" data-lng="135.48145128835782">
          <img
            src="https://tse3.mm.bing.net/th/id/OIP.U-RRIvIxKRIePrbM3npWKwAAAA?rs=1&pid=ImgDetMain&o=7&rm=3"
            alt="THE　base堺東アパートメントホテル"
          />
          <div class="hotel-content">
            <h3>THE　base堺東アパートメントホテル</h3>
            <p>
              ２０１８年８月に新館がオープン、最大５名様まで宿泊可能な畳のある広々和洋室が、全５４室となりました。
              新築マンションをホテルへコンバージョンし、ミニキッチンやセパレートタイプの風呂・トイレを完備。
              大阪市内やベイエリアへのアクセスもよく、ビジネスでの長期利用や、グループ、ファミリーのご利用にも最適です。
            </p>
          </div>
        </div>

        <div class="hotel" data-lat="34.57910263548722" data-lng=" 135.46794909725267">
          <img
            src="https://th.bing.com/th/id/OIP.K2_isA9XWLwdRwKzR6U4jAHaEK?w=282&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7"
            alt="ホテルサンプラザ堺 ANNEX"
          />
          <div class="hotel-content">
            <h3>ホテルサンプラザ堺ANNEX</h3>
            <p>
              ワンランク上のビジネスホテル。
              ホテルサンプラザ堺ANNEXは南海本線堺駅から徒歩5分の好立地。臨海工業地帯や、周辺の観光スポットへのアクセスも快適なビジネスホテルです。2階にあります宴会場「ラディウスホール」は、立食パーティーであれば最大100名様までご利用が可能です。
            </p>
          </div>
        </div>

        <div class="hotel" data-lat="34.6183" data-lng="135.4526">
          <img src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=J-GREEN堺" alt="J-GREEN堺" />
          <div class="hotel-content">
            <h3>J-GREEN堺</h3>
            <p>日本最大級の施設規模を誇り、サッカーをはじめとするスポーツ・レクリエーションの拠点施設。</p>
          </div>
        </div>

        <div class="hotel" data-lat="34.5829" data-lng="135.4675">
          <img
            src="https://placehold.jp/30/cccccc/ffffff/400x250.png?text=ホテル アゴーラ リージェンシー 大阪堺"
            alt="ホテル アゴーラ リージェンシー 大阪堺"
          />
          <div class="hotel-content">
            <h3>ホテル アゴーラ リージェンシー 大阪堺</h3>
            <p>南海本線堺駅西口直結。「美しい日本を作る」をテーマに、様々なサービスを提供しています。</p>
          </div>
        </div>
      </div>

      <div class="map-container">
        <h2 class="h2">アクセスマップ</h2>
        <div id="map"></div>
      </div>
    </div>

    <script>
      let map;
      const markers = []; // マーカーを管理する配列
      const infoWindows = []; // 情報ウィンドウを管理する配列

      function initMap() {
        // 地図の初期中心（堺市役所あたり）
        const initialCenter = { lat: 34.5733, lng: 135.4828 };
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: initialCenter,
          mapTypeControl: false, // 不要なコントロールを非表示
          streetViewControl: false
        });

        const hotels = document.querySelectorAll('.hotel');
        const bounds = new google.maps.LatLngBounds(); // 全マーカーが収まるように地図を調整するためのオブジェクト

        hotels.forEach((hotel, i) => {
          const lat = parseFloat(hotel.getAttribute('data-lat'));
          const lng = parseFloat(hotel.getAttribute('data-lng'));
          const name = hotel.querySelector('h3').textContent;
          const position = { lat, lng };

          // マーカーを作成
          const marker = new google.maps.Marker({
            position: position,
            map: map,
            title: name,
            animation: google.maps.Animation.DROP
          });
          markers.push(marker);

          // マーカーの位置をboundsに追加
          bounds.extend(position);

          // 情報ウィンドウを作成
          const infoWindow = new google.maps.InfoWindow({
            content: `<strong>${name}</strong>`
          });
          infoWindows.push(infoWindow);

          // マーカーのクリックイベント
          marker.addListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
          });

          // ホテルカードのクリックイベント
          hotel.addEventListener('click', () => {
            closeAllInfoWindows(); // 他のウィンドウを閉じる
            infoWindow.open(map, marker);
            map.panTo(position);
            map.setZoom(15);
          });
        });

        // すべてのマーカーが地図に収まるように表示を調整
        map.fitBounds(bounds);
      }

      // すべての情報ウィンドウを閉じる関数
      function closeAllInfoWindows() {
        infoWindows.forEach((win) => win.close());
      }
    </script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAanGL60bWCdRLdFjyk-Xf_UI-HPnbHgXc&callback=initMap"
    ></script>
  </body>
</html>
